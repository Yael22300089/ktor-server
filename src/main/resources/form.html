<!doctype html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <title>Formulario con Carrusel de Fondo</title>

    <style>
        body {
            font-family: Arial, sans-serif;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0;
            background-size: cover;
            background-position: center;
            transition: background-image 1s ease-in-out;
        }

        .card {
            background: rgba(255,255,255,.9);
            padding: 30px;
            border-radius: 12px;
            width: 420px;
        }

        input, button {
            width: 100%;
            padding: 10px;
            margin-bottom: 12px;
        }
    </style>
</head>
<body>

<div class="card">
    <h2>Formulario</h2>

    <form method="post" action="/enviar" enctype="multipart/form-data">
        <input name="nombre" placeholder="Nombre" required>
        <input name="edad" placeholder="Edad" required>
        <input name="correo" placeholder="Correo" required>
        <input name="telefono" placeholder="Teléfono" required>
        <input type="date" name="fecha" required>

        <label>Subir imágenes</label>
        <input type="file" name="imagenes" id="imagenes" multiple accept="image/*">

        <button type="submit">Enviar</button>
    </form>
</div>

<script>
    const input = document.getElementById("imagenes");
    let fondos = [];
    let index = 0;

    input.addEventListener("change", () => {
        fondos = [];
        [...input.files].forEach(file => {
            const reader = new FileReader();
            reader.onload = e => fondos.push(e.target.result);
            reader.readAsDataURL(file);
        });

        setTimeout(() => {
            if (fondos.length) {
                document.body.style.backgroundImage = `url(${fondos[0]})`;
                setInterval(() => {
                    index = (index + 1) % fondos.length;
                    document.body.style.backgroundImage = `url(${fondos[index]})`;
                }, 4000);
            }
        }, 500);
    });
</script>

</body>
</html>
